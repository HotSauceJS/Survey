<!doctype html>

<html>
  <head>
    <title>JS Course Feedback</title>

    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src='https://cdn.firebase.com/v0/firebase.js'></script>
    <script>
      var myDataRef = new Firebase('https://jssurvey.firebaseio.com/response_list');

      var serializeForm = function(event) {
        console.log('submit!');
        var entry = {
          rating: $("input[name=rating]:checked").val(),
          why: $("textarea[name=why]").val(),
          workshop_interest: $("input[name=workshop_interest]").is(':checked') ? "Yes" : "No",
          request: $("textarea[name=learn]").val(),
          email: $("input[name=email]").val()
        };
        myDataRef.push(entry);
        $('#message').show();
        event.preventDefault();
      }

      $().ready(function() {
        $('#message').hide();
        $('form').submit(serializeForm);
      });
    </script>
  </head>

  <body>
    <div id="message" style="background:#aea, padding:10px">
      <p>Thanks for your feedback!</p>
    </div>
    <h2>Class Survey</h2>
    <form novalidate>
      <label>How likely would you be to refer this course to a friend:</label><br/>
        <input type="radio" name="rating" value="1" /> 1
        <input type="radio" name="rating" value="2" /> 2
        <input type="radio" name="rating" value="3" /> 3
        <input type="radio" name="rating" value="4" /> 4
        <input type="radio" name="rating" value="5" checked /> 5
        <input type="radio" name="rating" value="6" /> 6
        <input type="radio" name="rating" value="7" /> 7
        <input type="radio" name="rating" value="8" /> 8
        <input type="radio" name="rating" value="9" /> 9
        <input type="radio" name="rating" value="10" /> 10
      <br/>
      <label>Why?<br/>
        <textarea name="why"></textarea>
      </label>
      <br/>
      <label>Are you be interested in a longer form workshop or class?<br/>
        <input type="checkbox" name="workshop_interest" value="Yes"> Yeah, let me know.
      </label>
      <br/>
      <label>What would you like to learn?<br/>
        <textarea name="learn"></textarea>
      </label>
      <br/>
      <label>Email:<br/>
        <input type="text" name="email" />
      </label>
      <br/>
      <button>SUBMIT</button>
    </form>
  </body>

</html>
